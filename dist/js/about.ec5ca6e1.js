"use strict";(self["webpackChunkqd_todo"]=self["webpackChunkqd_todo"]||[]).push([[443],{8367:function(t,s,a){a.r(s),a.d(s,{default:function(){return L}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"qdTasks"},[s("h2",{staticClass:"qdTasks__heading"},[0!==this.$store.state.taskList.length?s("span",[t._v("Your tasks")]):s("span",[t._v("Your tasks will be here as soon as you add them")])]),s("qdForm"),s("qdTaskList")],1)},e=[],o=function(){var t=this,s=t._self._c;return s("form",{staticClass:"qdForm",attrs:{action:"#"}},[s("label",{staticClass:"visually-hidden",attrs:{for:"new-task"}},[t._v("Enter your new task:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTask,expression:"inputTask"}],staticClass:"qdForm__input",attrs:{type:"text",id:"new-task",placeholder:"Your new task",autocomplete:"none"},domProps:{value:t.inputTask},on:{focus:t.onTaskInputFocus,input:function(s){s.target.composing||(t.inputTask=s.target.value)}}}),s("button",{staticClass:"qdForm__submit",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),t.addTask(t.taskIdAbsolute++)}}},[t._v("Add")])])},n=[],r={name:"qdForm",props:{},data(){return{inputTask:"",taskList:[],isDone:!1,isEditing:!1,taskIdAbsolute:0}},methods:{onTaskInputFocus(){this.taskList&&this.cancelTasksEditing()},addTask(){if(this.inputTask){const t={id:this.taskIdAbsolute,description:this.inputTask,descriptionDraft:"",isComplete:this.isDone,isEditing:this.isEditing};this.$store.commit("addTask",t),this.updateLocalStorage(),this.inputTask="",this.cancelTasksEditing()}},cancelTasksEditing(){this.$store.state.taskList.forEach((t=>{t.isEditing=!1}))},updateLocalStorage(){this.$store.commit("sendDataToLocalStorage")}}},c=r,l=a(1001),d=(0,l.Z)(c,o,n,!1,null,null,null),u=d.exports,k=function(){var t=this,s=t._self._c;return s("ul",{staticClass:"qdTaskList"},t._l(t.$store.state.taskList,(function(a,i){return s("li",{key:a.taskId,staticClass:"qdTaskList__task"},[a.isEditing?s("form",{staticClass:"qdTaskList__task-edit-form",attrs:{action:"#"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.descriptionDraft,expression:"task.descriptionDraft"}],staticClass:"qdTaskList__task-edit-input",attrs:{type:"text",autofocus:""},domProps:{value:a.descriptionDraft},on:{input:function(s){s.target.composing||t.$set(a,"descriptionDraft",s.target.value)}}}),s("button",{staticClass:"qdTaskList__task-edit-submit",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),t.submitEditing(i)}}},[s("span",{staticClass:"visually-hidden"},[t._v("Подтвердить изменение")])]),s("button",{staticClass:"qdTaskList__task-edit-reset",attrs:{type:"reset"},on:{click:function(s){return s.preventDefault(),t.resetEditing(i)}}},[s("span",{staticClass:"visually-hidden"},[t._v("Отменить изменения")])])]):s("div",{staticClass:"qdTaskList__task-control-wrapper"},[s("label",{staticClass:"qdTaskList__task-control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.isComplete,expression:"task.isComplete"}],staticClass:"qdTaskList__task-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.isComplete)?t._i(a.isComplete,null)>-1:a.isComplete},on:{change:[function(s){var i=a.isComplete,e=s.target,o=!!e.checked;if(Array.isArray(i)){var n=null,r=t._i(i,n);e.checked?r<0&&t.$set(a,"isComplete",i.concat([n])):r>-1&&t.$set(a,"isComplete",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"isComplete",o)},t.onTaskCheckboxChange]}}),s("span",{staticClass:"qdTaskList__task-control-mark"}),s("span",{staticClass:"qdTaskList__task-description",class:{"qdTasks__task-description--done":a.isComplete}},[t._v(t._s(a.description))])]),s("a",{staticClass:"qdTaskList__task-edit-button",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.editTask(i)}}},[t._v("Edit")]),s("a",{staticClass:"qdTaskList__task-remove-button",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeTask(i)}}},[t._v("Remove")])])])})),0)},p=[],m={name:"qdTaskList",props:{},mounted(){this.checkLocalStorage()},methods:{checkLocalStorage(){this.$store.commit("getDataFromLocalStorage")},onTaskCheckboxChange(){this.updateLocalStorage()},updateLocalStorage(){this.$store.commit("sendDataToLocalStorage")},removeTask(t){this.$store.state.taskList.splice(t,1),this.updateLocalStorage()},editTask(t){this.$store.state.taskList[t].isEditing=!0;let s=this.$store.state.taskList.filter(((s,a)=>a!==t));s.forEach((t=>{t.isEditing=!1})),this.$store.state.taskList[t].descriptionDraft=this.$store.state.taskList[t].description},submitEditing(t){this.$store.state.taskList[t].descriptionDraft?this.$store.state.taskList[t].description=this.$store.state.taskList[t].descriptionDraft:this.removeTask(t),this.cancelTasksEditing(),this.updateLocalStorage()},resetEditing(t){this.$store.state.taskList[t].isEditing=!1},cancelTasksEditing(){this.$store.state.taskList.forEach((t=>{t.isEditing=!1}))}}},h=m,_=(0,l.Z)(h,k,p,!1,null,null,null),f=_.exports,T={name:"qdTasks",components:{qdForm:u,qdTaskList:f}},v=T,g=(0,l.Z)(v,i,e,!1,null,null,null),L=g.exports}}]);
//# sourceMappingURL=about.ec5ca6e1.js.map